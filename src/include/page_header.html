#define NAVBAR_ITEM_NONE -1
#define NAVBAR_ITEM_HOME 0
#define NAVBAR_ITEM_GALLERY 1

#define NAVBAR_ITEM0 class="navbar_item"
#define NAVBAR_ITEM1 class="navbar_item"

#if CURRENT_NAVITEM == NAVBAR_ITEM_HOME
# undef NAVBAR_ITEM0
# define NAVBAR_ITEM0 class="navbar_item navbar_active"
#elif CURRENT_NAVITEM == NAVBAR_ITEM_GALLERY
# undef NAVBAR_ITEM1
# define NAVBAR_ITEM1 class="navbar_item navbar_active"
#elif NAVBAR_ITEM_NONE
<!-- Current page does not have item associated with it -->
#else
# error "Unknown current navitem"
#endif

#define NAVBAR_EXPAND(x) x
#define NAVBAR_CONCAT_INNER_INNER(x, y) x ## y
#define NAVBAR_CONCAT_INNER(x, y) NAVBAR_CONCAT_INNER_INNER(x, y)
#define NAVBAR_CONCAT(x, y) NAVBAR_CONCAT_INNER(NAVBAR_EXPAND(x), NAVBAR_EXPAND(y))
#define NAVBAR_ITEM(kind, url, icon_url, text) \
  <th NAVBAR_CONCAT(NAVBAR_ITEM, NAVBAR_EXPAND(kind))> \
  <a href=url> \
    <table> \
      <tr> \
        <th><img src=icon_url class="navbar_icon" height="50" /></th> \
        <th>text</th> \
      </tr> \
    </table> \
  </a>
</th>

<!-- Must be always present for 'error.js' work properly -->
<div id="error_div"></div>

<div id="page_header">
  <table class="navbar" id="navbar">
    <tr>
      <!-- Synchronize 'height' in this with one in navbar.css! -->
      <th id="navbar_page_icon"><a href=PREFIX_SITE_ROOT("/")><img height="60" src=PREFIX_SITE_ROOT("/favicon.ico") /></a></th>
      NAVBAR_ITEM(NAVBAR_ITEM_HOME, PREFIX_SITE_ROOT("/"), PREFIX_SITE_ROOT("/img/Home_Icon.png"), Home)
      NAVBAR_ITEM(NAVBAR_ITEM_GALLERY, PREFIX_SITE_ROOT("/gallery/"), PREFIX_SITE_ROOT("/img/Gallery_Icon.png"), Gallery)
      
      <!-- Contain absolutely nothing, it fills the rest of space -->
      <th style="width: 100%;"></th>
    </tr>
  </table>
</div>

<hr class="page_divider">
<!-- Not closed here, it will be closed in page_footer.html -->
<div id="page_content">

#undef NAVBAR_ITEM0
#undef NAVBAR_ITEM1
