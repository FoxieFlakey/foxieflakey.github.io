<!-- Must be always present for 'error.js' work properly -->
<div id="error_div"></div>

<div id="page_header">
  <table class="navbar" id="navbar">
    <tr>
      <!-- Synchronize 'height' in this with one in navbar.css! -->
      <th id="navbar_page_icon"><a href="/"><img height="60" src="/favicon.ico" /></a></th>
      <th data-category-target="home" class="navbar_item">
        <a href="/">
          <table>
            <tr>
              <th>Home</th>
            </tr>
          </table>
        </a>
      </th>
      <th data-category-target="gallery" class="navbar_item">
        <a href="/gallery.html">
          <table>
            <tr>
              <th><img src="/img/Gallery_Icon.png" class="navbar_icon" height="50" /></th>
              <th>Gallery</th>
            </tr>
          </table>
        </a>
      </th>
      
      <!-- Contain absolutely nothing, it fills the rest of space -->
      <th style="width: 100%;"></th>
    </tr>
  </table>
</div>

<script type="module">
  const categoryName = document.documentElement.getAttribute("data-category-name");
  if (categoryName == null) {
    (await import("/js/error.js")).error("Page's HTML element does not have 'data-category-name', Navbar cannot properly highlights");
  }
  
  const navbar = document.getElementById("navbar").getElementsByClassName("navbar_item");
  let found = false;
  for (let i = 0; i < navbar.length; i++) {
    let item = navbar.item(i);
    
    if (item.getAttribute("data-category-target") === undefined) {
      console.warn("Element in navbar does not have page target");
      continue;
    }
    
    if (item.getAttribute("data-category-target") === categoryName) {
      item.classList.add("navbar_active");
      found = true;
      break;
    }
  }
  
  if (!found) {
    (await import("/js/error.js")).error("Current category cannot be found");
  }
</script>

<hr class="page_divider">
<!-- Not closed here, it will be closed in page_footer.html -->
<div id="page_content">

